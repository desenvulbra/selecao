var app=angular.module("ulbra",["ngAnimate","ngMessages","ui.router","toastr","ui.utils.masks"]).config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/"),t.state("home",{url:"",templateUrl:"/views/home.html",controller:"HomeCtrl",controllerAs:"$ctrl"})}]);app.controller("HomeCtrl",["Auth","toastr","$state",function(t,e,o){var n=this;n.submitting=!1,n.login=function(){n.submitting=!0,t.authenticate(n.email,n.senha).then(function(n){t.saveToken(n.data.token),e.success("Usu√°rio autenticado com sucesso."),o.go("cursos")}).catch(function(t){n.submitting=!1;var o=t.data.message;e.error(o)})},n.googleSignIn=function(){}}]),app.factory("Auth",["$http","$window",function(t,e){return{authenticate:function(e,o){return t.post("/auth/login",{email:e,senha:o})},saveToken:function(t){e.localStorage.jwtToken=t},getToken:function(){return e.localStorage.jwtToken}}}]);